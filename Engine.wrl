#VRML V2.0 utf8

Background {
    skyColor [  1 1 1]
}

DEF ENGINE Transform{
    children [
        Transform {
            rotation   0 0 1 1.57
            children 
                Shape{  
                    appearance Appearance {                    
                        material Material { 
                                diffuseColor 0.4118     0.4118    0.4118  
                            }
                        }
                    geometry Cylinder {
                        radius 4
                        height 30
                    }
                }
        }
        Transform {
            translation 0 -4.5 0
            children 
                Shape{  
                    appearance Appearance {                    
                        material Material { 
                                diffuseColor 0 0 0
                            }
                        }
                    geometry Box {
                        size 30 3 5
                    }
                }
        }
        DEF WHEEL Transform {
            translation 10 -4 6 
            scale 10 10 10
            children Inline {
                 url "wheel.wrl"
            }
        }
        Transform{
            translation -6.3 0 0
            children USE WHEEL
        }
        Transform{
            translation -6.3 0 -10
            children USE WHEEL
        }
         Transform{
            translation 0 0 -10
            children USE WHEEL
        }
        DEF SMALL_WHEEL Transform {
            translation -2.5 -5 4 
            scale 7.5 7.5 7.5 
            children Inline {
                 url "wheel2.wrl"
            }
        }
        
        DEF EXTRA_MATERIAL Group{
            children[
                Transform {
                    translation -7 -5 3
                    rotation   0 0 1 1.57
                    children 
                        Shape{  
                            appearance Appearance {                    
                                material Material { 
                                        diffuseColor  0.4118     0.4118    0.4118  
                                    }
                                }
                            geometry Cylinder {
                                radius 1.4
                                height 4.5
                            }
                        }
                }
                DEF STRIP Transform{
                    translation -8.3 -5 3
                    rotation   0 0 1 1.57
                    children 
                        Shape{  
                            appearance Appearance {                    
                                material Material { 
                                        diffuseColor 1 1 1
                                    }
                                }
                            geometry Cylinder {
                                radius 1.41
                                height 0.4
                            }
                        }
                }
                Transform{
                    translation 2.7 0 0
                    children USE STRIP
                }
            ]
        }
        
        
        Transform{
            translation -9.5 0 0
            children USE SMALL_WHEEL
        }
        Transform{
            translation -9.5 0 -7
            children USE SMALL_WHEEL
        }
        Transform{
            translation 0 0 -7
            children USE SMALL_WHEEL
        }
        Transform{
            translation 0 0 -7
            children USE EXTRA_MATERIAL
        }
       
    ]
}




DEF timer TimeSensor {
	cycleInterval 8
	loop TRUE
}

DEF pi PositionInterpolator {
	key [ 0 1 ]
	keyValue [10 1 0, -10 1 0]
}

DEF oi OrientationInterpolator {
	key [0 0.157 0.314 0.471 0.628 0.785 0.942 1]
	keyValue [ 0 0 1 0, 0 0 1 3.14, 0 0 1 6.28, 0 0 1  9.42, 0 0 1 12.56, 
			0 0 1 15.7, 0 0 1 18.84, 0 0 1 20.0 ]
}

DEF si ScalarInterpolator {
	key [ 0 1]
	keyValue [0 1]
}




ROUTE timer.fraction_changed TO si.set_fraction
ROUTE si.value_changed TO pi.set_fraction
ROUTE pi.value_changed TO ENGINE.set_translation
ROUTE timer.fraction_changed TO oi.set_fraction

ROUTE si.value_changed TO oi.set_fraction
ROUTE oi.value_changed TO WHEEL.set_rotation
ROUTE oi.value_changed TO SMALL_WHEEL.set_rotation
